<!DOCTYPE html>

<html lang="en">
    <head>
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
        <link href="styles.css" rel="stylesheet">
        <br>
        <title>Week 1: C</title>
        <script>
            function show_hide(id){
                let everyChild = document.querySelectorAll("#all_ids div");
                let e = document.getElementById(id);
                for (let i = 0; i<everyChild.length; i++) {
                    if(e===everyChild[i])
                        everyChild[i].style.display = 'block';
                    else
                        everyChild[i].style.display = 'none';
                }
            }
        </script>
    </head>
    <body>
        <header>
            <h1 class="text-muted">Week 1: C</h1>
        </header>
        <hr>
        <nav class="nav justify-content-center">
            <li class="nav-item"><a class="nav-link active text-muted" href="https://77449860-e31d-4441-86d2-af8a51e732fe-ide.cs50.xyz:8080/index.html">Home</a></li>
            <li class="nav-item"><a class="nav-link text-muted" href="https://77449860-e31d-4441-86d2-af8a51e732fe-ide.cs50.xyz:8080/week_1.html">Week 1</a></li>
            <li class="nav-item"><a class="nav-link text-muted" href="https://77449860-e31d-4441-86d2-af8a51e732fe-ide.cs50.xyz:8080/week_2.html">Week 2</a></li>
            <li class="nav-item"><a class="nav-link text-muted" href="https://77449860-e31d-4441-86d2-af8a51e732fe-ide.cs50.xyz:8080/week_3.html">Week 3</a></li>
            <li class="nav-item"><a class="nav-link text-muted" href="https://77449860-e31d-4441-86d2-af8a51e732fe-ide.cs50.xyz:8080/week_4.html">Week 4</a></li>
        </nav>
        <hr>
        <!--to divide the area in two use: Bootstrap 4 Grid System https://www.w3schools.com/bootstrap4/bootstrap_grid_basic.asp -->
        <div class="container-fluid">
            <div class="row">
                <aside class="col-md-2 px-md-5 py-md-3">
                    <header><h1 class="text-muted text-left">Code</h1></header>
                        <nav>
                            <ul class="nav flex-column">
                                <li><a class="nav-link active text-muted" href="#hello" onclick="return show_hide('hello');">Hello</a></li>
                                <li><a class="nav-link text-muted" href="#Mario_less" onclick="return show_hide('Mario_less');">Mario(Less)</a></li>
                                <li><a class="nav-link text-muted" href="#Mario_more" onclick="return show_hide('Mario_more');">Mario(More)</a></li>
                                <li><a class="nav-link text-muted" href="#Cash" onclick="return show_hide('Cash');">Cash</a></li>
                                <li><a class="nav-link text-muted" href="#Credit" onclick="return show_hide('Credit');">Credit</a></li>
                            </ul>
                        </nav>
                </aside>
                <main class="col-md-9 bg-light px-md-5 py-md-3">
                    <div id='all_ids'>
                        <div id="hello">
                            <h2>Hello</h2>
                                <pre><code>
#include &lt;stdio.h&gt;
#include &lt;cs50.h&gt;

int main(void)
{
    string name = get_string("What is your name?\n");
    printf("hello, %s\n", name);
}
                                </code></pre>
                        </div>
                        <div id="Mario_less" class="hidden">
                            <h2>Mario(less)</h2>
                            <pre><code>
#include &lt;cs50.h&gt;
#include &lt;stdio.h&gt;

int main(void)
{
    int n;
    //prompt height to the user
    do
    {
        //save height in a variable called n
        n = get_int("Height: ");
    }
    //check height is a positive integer
    while (n < 1 || n > 8);

    for (int i = 0; i < n; i++)
    {
        for (int j = 0; j < n; j++)
        {
            if (j >= (n - 1) - i)
            {
                printf("#");
            }
            else
            {
                printf(" ");
            }
        }
        printf("\n");
    }
}
                            </code></pre>
                        </div>
                        <!--<div></div>-->
                        <div id="Mario_more" class="hidden">
                            <h2>Mario(more)</h2>
                            <pre><code>
#include &lt;cs50.h&gt;
#include &lt;stdio.h&gt;

int main(void)
{
    int n;
    //prompts height to the user
    do
    {
        //saves height in a variable called n
        n = get_int("Height: ");
    }
    //checks height is a positive integer
    while (n < 1 || n > 8);

    // loops trough each row
    for (int i = 0; i < n; i++)
    {
        //loops trough each column
        for (int j = 0; j < (n + 3 + i) ; j++)
        {
            if (((j >= (n - 1) - i) && (j <= (n - 1))) || (j >= n + 2))
            {
                printf("#");
            }
            else
            {
                printf(" ");
            }
        }
        printf("\n");
    }
}
                            </code></pre>
                        </div>
                        <!--<div></div>-->
                        <div id="Cash" class="hidden">
                            <h2>Cash</h2>
                                <pre><code>
#include &lt;cs50.h&gt;
#include &lt;stdio.h&gt;
#include &lt;math.h&gt;

float owed(string prompt);
int change(int c);

int main(void)
{
    int n;
    int num_coin;

    n = owed("how much change is owed?: ");
    num_coin = change(n);

    printf("%i\n", num_coin);
}

//Prompts user how much change is owed
float owed(string prompt)
{
    int f;
    //Prompots user for change that is owed and converts it to cents
    do
    {
        f = round(get_float("%s", prompt) * 100);
    }
    while (f < 0);
    return f;
}

//Calculates the number of coins to return
int change(int c)
{
    int count = 0;

    //calculates the number of quartes needed
    count = round(c / 25);
    // checks the remainder to decide if the calculation is done
    c = c % 25;
    if (c > 0)
    {
        //calculates the number of dimes and adds the result to count
        count = count + round(c / 10);
        //checks the remainder to decide if the calculation is done
        c = c % 10;
        if (c > 0)
        {
            //calculates the number of nickels and adds the result to count
            count = count + round(c / 5);
            //checks the remainder to decide if the calculation is done
            c = c % 5;
            if (c > 0)
            {
                //calculates the number of pennies and adds the result to count
                count = count + c;
            }
        }
    }
    return count;
}
                            </code></pre>
                        </div>
                        <!--<div></div>-->
                        <div id="Credit" class="hidden">
                            <h2>Credit</h2>
                            <pre><code>
#include &lt;cs50.h&gt;
#include &lt;stdio.h&gt;
#include &lt;math.h&gt;

long get_card_number(string prompt);
int get_length(long n);
int luhns_alg(long n, int l);
int get_brand(long n, int l);

int main(void)
{
    long card = get_card_number("Number: ");
    int l = get_length(card);
    int luhns = luhns_alg(card, l);
    if (luhns == 0)
    {
        printf("INVALID\n");
    }
    else
    {
        get_brand(card, l);
    }
}

//prompts user for card number
long get_card_number(string prompt)
{
    long n;
    do
    {
        n = get_long("%s", prompt);
    }
    while (n < 1);
    return n;
}

//get lenght
int get_length(long n)
{
    int l_count = 0;

    //loop while n is true which is while n is different than zero. As n is an integer it will return zero once it gets to decimal values
    while (n)
    {
        // n = n / 10 is the same as n/= 10
        n /= 10;
        l_count++;
    }
    return (l_count);
}

//Perform luhns algorithm
int luhns_alg(long n, int l)
{
    int digit;
    int sum_digit = 0;

    //iterate over each digit from right to left
    for (int i = 0; i < l; i++, n /= 10)
    {
        //Get digit from right to left
        digit = n % 10;

        //multiply by 2 every other digit starting from second-to-last digit
        //all the even i values such 0,2,4,etc will have i % 2 == 0, these positions won't change their digit
        if (i % 2 != 0)
        {
            int digit_mul = digit * 2;
            int len_digit = get_length(digit_mul);
            int sum_digit_mul = 0;
            for (int j = 0; j < len_digit; j++, digit_mul /= 10)
            {
                int mod_digit = digit_mul % 10; //get last digit of the multiplied number
                sum_digit_mul = sum_digit_mul + mod_digit; //addition of each digit of the multiplied number
            }
            digit = sum_digit_mul;
        }
        sum_digit = sum_digit + digit; // some of the digits were multiplied by 2
    }
    if (sum_digit % 10 != 0)
    {
        return 0;
    }
    return 1;
}

//determines card's brand
int get_brand(long n, int l)
{
    // get first two digits of the card
    int duo = n / (pow(10, l - 2));

    // indentifies the brand
    if ((l == 15) && (duo == 34 || duo == 37))
    {
        printf("AMEX\n");
    }
    else if ((l == 13 || l == 16) && ((duo / 10) == 4))
    {
        printf("VISA\n");
    }
    else if ((l == 16) && (duo >= 51 && duo <= 55))
    {
        printf("MASTERCARD\n");
    }
    else
    {
        printf("INVALID\n");
    }
    return 0;
}
                            </code></pre>
                        </div>
                    </div>
                </main>
            </div>
        </div>
        <hr>
        <footer id="intro">Design by Cabfish 2020</footer>
    </body>
</html>